<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Kurrentschrifthilfe</title>
		<!-- Diese HTML-Datei wurde 2023 von Andreas Heese erstellt, bei Github unter https://github.com/AndreasHeese/kurrent ver√∂ffentlicht und steht unter der unter der Creative Commons-Lizenz CC-BY-SA-4.0 sowie der GPL. -->
		<!-- Der verwendete Schriftfont WiegelKurrent.unz1tB.ttf ist von http://www.peter-wiegel.de/WiegelKurrent.html heruntergeladen und steht unter der unter der Creative Commons-Lizenz CC-BY, GPL mit Font-Exception und/oder SIL Open Font License. -->
		<!-- Die Fontdateien wiegelkurrent.unz1tb-webfont.woff, wiegelkurrent.unz1tb-webfont.woff2 und wiegelkurrent.unz1tb-webfont.svg wurden aus der Truetype-Fontdatei WiegelKurrent.unz1tB.ttf mit Hilfe von https://www.fontsquirrel.com/tools/webfont-generator in die Formate WOFF, WOFF2 und SVG umgewandelt und stehen ebenfalls der unter der Creative Commons-Lizenz CC-BY, GPL mit Font-Exception und/oder SIL Open Font License zur Verf√ºgung. -->
		<style>
			@font-face {
				font-family: "Kurrent";
				src:
					url('WiegelKurrent.unz1tB.ttf') format('truetype'),
					url('wiegelkurrent.unz1tb-webfont.woff') format('woff'),
					url('wiegelkurrent.unz1tb-webfont.woff2') format('woff2'),
					url('wiegelkurrent.unz1tb-webfont.svg') format('svg');
			}
			body { font-size: clamp(1rem, 3vw, 1.4rem); }
			textarea { width:100%; height: 5em; font-size: clamp(2rem, 3.5vw, 3rem); line-height: 1.1; }
			#target { font-family: Kurrent; font-size: clamp(3rem, 5vw, 4rem); }
			#mehrSpan { display:none; }
			.char { background-color: WhiteSmoke; display: inline-block; width: 1.5em; text-align: center; padding: 0; margin: 0; }
			.kurr { font-family: Kurrent; font-size: clamp(1rem, 3vw, 1.4rem); line-height: 1; }
		</style>
		<script>
			// Event input beim Laden ansto√üen, damit bei Browsern, die sich Eingaben merken, die Kurrentdarstellung bereits nach dem Laden angezeigt wird
			window.onload = function () {
				document.getElementById('source').dispatchEvent(new Event('input', { 'bubbles': true }));
			}
			
			// Zusatzinformationen √ºber Button ein- und ausblendbar
			function toggledisplay(e) {
				if (document.getElementById('mehrSpan').style.display == 'inline') {
					document.getElementById('mehrSpan').style.display = 'none';
					document.getElementById('mehrBtn').textContent = '>'
				} else {
					document.getElementById('mehrSpan').style.display = 'inline';
					document.getElementById('mehrBtn').textContent = '<';
				}
			};
		</script>
	</head>
	<body>
		<h1>Kurrentschrifthilfe</h1>
		<p>In das Feld eingegebener Text wird darunter in Kurrentschrift dargestellt, der Buchstabe s erzeugt das lange s und das Zeichen $ das runde s <span id="mehrSpan">(Eingabe <span class="char">s</span> = Darstellung <span class="char">≈ø</span> und Kurrent <span class="char kurr">≈ø</span>, Eingabe <span class="char">$</span> = Darstellung <span class="char">ùê¨</span> und Kurrent <span class="char kurr">s</span>). Am Wortende wird nach Eingabe eines Leerzeichens das lange s automatisch in ein rundes s umgewandelt. Innerhalb von zusammengesetzten W√∂rter muss das runde s manuell mit $ gesetzt werden (Eingabe da$selbe = Darstellung daùê¨≈øelbe und Kurrent <span class="kurr">das≈øelbe</span>), siehe auch <a href="https://de.wikipedia.org/wiki/Langes_s#Regeln_von_1901" target="_blank">Regeln von 1901</a>. In der Kurrentdarstellung werden ch, ck, St und tz als Ligaturen geschrieben und Doppel-m und -n werden durch die Einzelbuchstaben mit √úberstrich ersetzt. Einige Buchstaben werden am Wortanfang ohne Anstrich und am Wortende ohne Nachstrich dargestellt.<br/>Die Copyrightnotiz (u.a. GPL) befindet sich im Quelltext. Diese HTML-Datei ist bei <a href="https://github.com/AndreasHeese/kurrent" target="_blank">Github</a> ver√∂ffentlicht. Der f√ºr die Kurrentschrift verwendete Font ist <a href="http://www.peter-wiegel.de/WiegelKurrent.html" target="_blank">WiegelKurrent.unz1tB</a> von Peter Wiegel. </span><button id="mehrBtn" onclick="toggledisplay();">&gt;</button></p>
		<div>
			<textarea id="source" placeholder="Eingabe" autofocus></textarea>
		</div>
		<div id="target"></div>
		<script>
			const inputHandler = function(e) {
				let str = this.value;
				// Verarbeitung f√ºr den Text in der textarea (wirkt sich auf Eingabetext und folgend auf Kurrentdarstellung aus)
				str = str.replace(/(s)/g,'≈ø'); // rundes s zu langem s (&#x17F; kann in Textarea nicht so geschrieben werden)
				str = str.replace(/(\$)/g,'ùê¨'); // $ zu mathematischem Zeichen fettes s (&#x1D42C; kann in Textarea nicht so geschrieben werden)
				str = str.replace(/(≈ø )/g,'s '); // langes s am Wortende zur√ºck zu rundem s (ohne Nachstrich erst f√ºr Kurrentfont)
				// Umgewandelten Eingabetext darstellen
				document.getElementById('source').value = str;
				// Verarbeitung f√ºr den Text im div (wirkt sich nicht auf Eingabetext und nur auf Kurrentdarstellung aus)
				// Erster Buchstabe des Wortes ohne Anstrich
				str = str.replace(/( a)/g,' &#xF500;'); // a 
				str = str.replace(/( √§)/g,' &#xF501;'); // √§ 
				str = str.replace(/( g)/g,' &#xF504'); // g 
				str = str.replace(/( o)/g,' &#xF505'); // o 
				str = str.replace(/( √∂)/g,' &#xF506'); // √∂ 
				str = str.replace(/( q)/g,' &#xF508'); // q 
				// Letzter Buchstabe des Wortes ohne Nachstrich
				str = str.replace(/(ùê¨ )/g,'&#xF509; '); // rundes s 
				str = str.replace(/(s )/g,'&#xF509; '); // rundes s auch aus langem s
				str = str.replace(/(v )/g,'&#xF50E; '); // v
				str = str.replace(/(w )/g,'&#xF50F; '); // w
				str = str.replace(/(I )/g,'&#xF512; '); // I
				str = str.replace(/(O )/g,'&#xF513; '); // O
				// Buchstabe s mit Nachstrich
				str = str.replace(/(ùê¨)/g,'s'); // rundes s auch ohne folgendes Leerzeichen
				// Doppelbuchstaben durch Einzelbuchstaben mit √úberstrich ersetzen
				str = str.replace(/(mm)/g,'&#xE5D2;');
				str = str.replace(/(nn)/g,'&#xE5DC;');
				// Ligaturen darstellen
				str = str.replace(/(ch)/g,'&#xF1BB;');
				str = str.replace(/(ck)/g,'&#xEEC4;');
				str = str.replace(/(St)/g,'&#xF4F8;');
				str = str.replace(/(tz)/g,'&#xEEDC;');
				// F√ºr Zeilenumbruch Return durch <br/> ersetzen
				str = str.replace(/[\r\n]/g,'<br/>');
				// Umgewandelten Kurrenttext darstellen
				document.getElementById('target').innerHTML = str;
			};
			
			document.getElementById('source').addEventListener('input', inputHandler);
		</script>
	</body>
</html>
